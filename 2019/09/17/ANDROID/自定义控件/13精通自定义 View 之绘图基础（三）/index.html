<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>精通自定义 View 之绘图基础（三） | King</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">精通自定义 View 之绘图基础（三）</h1><a id="logo" href="/.">King</a><p class="description">xianxiaotao</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">精通自定义 View 之绘图基础（三）</h1><div class="post-meta">Sep 17, 2019<span> | </span><span class="category"><a href="/categories/ANDROID/">ANDROID</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>精通自定义 View 之绘图基础（三）</p>
<h2 id="1-3-文字"><a href="#1-3-文字" class="headerlink" title="1.3 文字"></a>1.3 文字</h2><h4 id="1-3-1-Paint设置"><a href="#1-3-1-Paint设置" class="headerlink" title="1.3.1 Paint设置"></a>1.3.1 Paint设置</h4><p>Paint 与文字相关的设置方法有如下几个：</p>
<ul>
<li>普通设置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">// 设置画笔宽度</div><div class="line">paint.setStrokeWidth (5); </div><div class="line">// 指定是否使用抗锯齿功能。如果使用,则会使绘图速度变慢</div><div class="line">paint.setAntiAlias(true);</div><div class="line">// 绘图样式,对于文字和几何图形都有效</div><div class="line">paint.setStyle(Paint.Style.FILL);</div><div class="line">// 设置文字对齐方式： Align.CENTER、Align.LEFT、Align.RIGHT</div><div class="line">paint.setTextAlign(Align.CENTER);</div><div class="line">// 设置文字大小</div><div class="line">paint.setTextSize(12);</div></pre></td></tr></table></figure>
<ul>
<li>样式设置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">// 设置是否为粗体文字</div><div class="line">paint.setFakeBoldText(true); </div><div class="line">// 设置下画线</div><div class="line">paint.setUnderlineText(true); </div><div class="line">// 设置字体水平倾斜度,普通斜体字设为-0.25,右为负左为正</div><div class="line">paint.setTextSkewX((float) -0.25); </div><div class="line">// 设置带有删除线效果</div><div class="line">paint.setStrikeThruText(true);</div></pre></td></tr></table></figure>
<ul>
<li>其他设置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 只会将水平方向拉伸,高度不会变</div><div class="line">paint.setTextScaleX(2);</div></pre></td></tr></table></figure>
<h6 id="1-填充样式的区别"><a href="#1-填充样式的区别" class="headerlink" title="1. 填充样式的区别"></a>1. 填充样式的区别</h6><p>paint.setStyle()函数对文字和几何图形都有效。下面就来看看不同的填充样式对文字的影响：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mPaint = new Paint();</div><div class="line">mPaint.setColor(Color.RED);</div><div class="line">mPaint.setStrokeWidth(5);</div><div class="line">mPaint.setAntiAlias(true);</div><div class="line">mPaint.setTextSize(100);</div><div class="line"></div><div class="line">mPaint.setStyle(Paint.Style.STROKE);</div><div class="line">canvas.drawText(&quot;先小涛 STROKE&quot;, 100, 200, mPaint);</div><div class="line">mPaint.setStyle(Paint.Style.FILL);</div><div class="line">canvas.drawText(&quot;先小涛 FILL&quot;, 100, 320, mPaint);</div><div class="line">mPaint.setStyle(Paint.Style.FILL_AND_STROKE);</div><div class="line">canvas.drawText(&quot;先小涛 FILL_AND_STROKE&quot;, 100, 440, mPaint);</div></pre></td></tr></table></figure></p>
<p>效果图如下：<br><img src="https://upload-images.jianshu.io/upload_images/14186083-16b11cc8b1731a0d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="字体填充样式"></p>
<h6 id="2-setTextAlign-函数"><a href="#2-setTextAlign-函数" class="headerlink" title="2. setTextAlign()函数"></a>2. setTextAlign()函数</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">public void setTextAlign(Align align)</div></pre></td></tr></table></figure>
<p>用于设置所要绘制的字符串与起始点的相对位置。参数 Align align 的取值如下：</p>
<ul>
<li>Align.LEFT：居左绘制，即通过 drawText()函数指定的起始点在最左侧，文字从起始点位置开始绘制。</li>
<li>Align.CENTER：居中绘制，即通过 drawText()函数指定的起始点在文字中间位置。</li>
<li>Align.RIGHT：居右绘制，即通过 drawText()函数指定的起始点在文字右侧位置。</li>
</ul>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">mLinePaint = new Paint();</div><div class="line">mLinePaint.setColor(Color.BLUE);</div><div class="line">mPaint = new Paint();</div><div class="line">mPaint.setColor(Color.RED);</div><div class="line">mPaint.setStrokeWidth(5);</div><div class="line">mPaint.setAntiAlias(true);</div><div class="line">mPaint.setTextSize(80);</div><div class="line"></div><div class="line">canvas.drawCircle(400, 100, 5, mLinePaint);</div><div class="line">canvas.drawLine(400, 100, 400, 300, mLinePaint);</div><div class="line">mPaint.setTextAlign(Paint.Align.LEFT);</div><div class="line">canvas.drawText(&quot;先小涛&quot;, 400, 100, mPaint);</div><div class="line">mPaint.setTextAlign(Paint.Align.CENTER);</div><div class="line">canvas.drawText(&quot;先小涛&quot;, 400, 200, mPaint);</div><div class="line">mPaint.setTextAlign(Paint.Align.RIGHT);</div><div class="line">canvas.drawText(&quot;先小涛&quot;, 400, 300, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-ff624351d68401c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="setTextAlign 效果图"></p>
<p>从效果图中可以看出，当居左对齐(Align.LEFT)时，整个字符串都在起始点(400,100) 的右侧，也就是说,通过 drawText()函数指定的起始点(400,100)是居左的。同样，当居右对齐(Align.RIGHT)时，起始点也是居右的，也就是说，所有文字都在起始点(400,100)的左侧。</p>
<h6 id="3-设置字体样式"><a href="#3-设置字体样式" class="headerlink" title="3. 设置字体样式"></a>3. 设置字体样式</h6><p>1）常规设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// 设置是否粗体。当取 true 时，表示是粗体。</div><div class="line">void setFakeBoldText(boolean fakeBoldText)</div><div class="line">// 是否显示文字下画线。当取 true 时，显示下画线。</div><div class="line">void setUnderlineText(boolean underlineText)</div><div class="line">// 是否显示中间删除线。当取 true 时，显示中间删除线。</div><div class="line">void setStrikeThruText(boolean strikeThruText)</div></pre></td></tr></table></figure></p>
<p>示例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">canvas.drawText(&quot;先小涛 DEFAULT&quot;, 100, 200, mPaint);</div><div class="line">mPaint.setFakeBoldText(true);</div><div class="line">mPaint.setUnderlineText(true);</div><div class="line">mPaint.setStrikeThruText(true);</div><div class="line">canvas.drawText(&quot;先小涛 SETTING&quot;, 100, 300, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-16487debfb27c72b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="字体设置效果图"></p>
<p>2）字体倾斜度设置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void setTextSkewX(float skewX)</div></pre></td></tr></table></figure></p>
<p>该函数用于设置字体倾斜度。参数 float skewX 的默认值是 0，取负值时文字向右倾斜，取正值时文字向左倾斜，Word 文档中倾斜字体的倾斜度是 -0.25f。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">mPaint = new Paint();</div><div class="line">mPaint.setColor(Color.RED);</div><div class="line">mPaint.setTextSize(80);</div><div class="line"></div><div class="line">// 正常样式</div><div class="line">canvas.drawText(mName, 100, 200, mPaint);</div><div class="line">// 向右倾斜</div><div class="line">mPaint.setTextSkewX(-0.25f);</div><div class="line">canvas.drawText(mName, 100, 300, mPaint);</div><div class="line">// 向左倾斜</div><div class="line">mPaint.setTextSkewX(0.25f);</div><div class="line">canvas.drawText(mName, 100, 400, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-5092c1c4b245d5fc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="字体倾斜度设置：正常、向右、向左"></p>
<h6 id="4-水平拉伸"><a href="#4-水平拉伸" class="headerlink" title="4. 水平拉伸"></a>4. 水平拉伸</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">void setTextScaleX(float scaleX)</div></pre></td></tr></table></figure>
<p>该函数用于在水平方向拉伸文字。参数 float scaleX 表示拉伸倍数，当取值为 1 时，表示不拉伸。默认为不拉伸。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// 正常样式</div><div class="line">canvas.drawText(mName, 100, 200, mPaint);</div><div class="line">// 拉伸两倍</div><div class="line">mPaint.setTextScaleX(2f);</div><div class="line">canvas.drawText(mName, 100, 300, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-f24aeccf2715d7a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="字体水平拉伸"></p>
<h4 id="1-3-2-Canvas绘制文本"><a href="#1-3-2-Canvas绘制文本" class="headerlink" title="1.3.2 Canvas绘制文本"></a>1.3.2 Canvas绘制文本</h4><h6 id="1-普通绘制"><a href="#1-普通绘制" class="headerlink" title="1. 普通绘制"></a>1. 普通绘制</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// 该函数可以指定起始点(x, y)来绘制文字</div><div class="line">void drawText(String text, float x, float y, Paint paint)</div><div class="line">// 通过指定字符串中字符的起始和终止位置截取字符串的一部分绘制</div><div class="line">void drawText(String text, int start, int end, float x, float y, Paint paint)</div><div class="line">void drawText(char[] text, int index, int count, float x, float y, Paint paint)</div><div class="line">void drawText(CharSequence text, int start, </div><div class="line">              int end, float x, float y, Paint paint)</div></pre></td></tr></table></figure>
<p>参数：<br>int start：表示起始绘制字符所在字符串中的索引。<br>int end：表示结束绘制字符所在字符串中的索引。<br>int index：指定起始绘制字符的位置。<br>int count：指定从起始绘制字符开始绘制几个字符。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">canvas.drawText(&quot;先小涛后大浪&quot;, 1, 4, 100, 200, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-b6c9d809d7d02707.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h6 id="2-逐个指定文字位置"><a href="#2-逐个指定文字位置" class="headerlink" title="2. 逐个指定文字位置"></a>2. 逐个指定文字位置</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">void drawPosText(String text, float[] pos, Paint paint)</div><div class="line">void drawPosText(char[] text, int index, int count, float[] pos, Paint paint)</div></pre></td></tr></table></figure>
<p>参数：</p>
<ul>
<li>char[] text/String text：要绘制的字符串。</li>
<li>int index：第一个要绘制的文字的索引。</li>
<li>int count：要绘制的文字的个数，用来计算最后一个文字的位置，从第一个绘制的文字开始算起。</li>
<li>float[] pos：要绘制的每个文字的具体位置，同样两两一组，如{x1,y1,x2,y2,x3,y3,…}。</li>
</ul>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public class TestView extends View &#123;</div><div class="line"></div><div class="line">    private Paint mPaint;</div><div class="line">    private String mName = &quot;先小涛后大浪&quot;;</div><div class="line">    private float[] pos = &#123;80, 180, 80, 280, 80, 380,</div><div class="line">                           200, 180, 200, 280, 200, 380&#125;;</div><div class="line"></div><div class="line">    public TestView(Context context, @Nullable AttributeSet attrs) &#123;</div><div class="line">        super(context, attrs);</div><div class="line">        mPaint = new Paint();</div><div class="line">        mPaint.setColor(Color.RED);</div><div class="line">        mPaint.setTextSize(80);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    protected void onDraw(Canvas canvas) &#123;</div><div class="line">        canvas.drawPosText(mName, pos, mPaint);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-1b7f44f3ba8837d3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h6 id="3-沿路径绘制"><a href="#3-沿路径绘制" class="headerlink" title="3. 沿路径绘制"></a>3. 沿路径绘制</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">void drawTextOnPath (String text, Path path, float hOffset, </div><div class="line">                     float vOffset, Paint paint)</div><div class="line">void drawTextOnPath (char[] text, int index, int count, Path path, </div><div class="line">                     float hOffset, float vOffset, Paint paint)</div></pre></td></tr></table></figure>
<ul>
<li>float hOffset：与路径起始点的水平偏移量。 </li>
<li>float vOffset：与路径中心的垂直偏移量。</li>
</ul>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mPaint = new Paint();</div><div class="line">mPaint.setColor(Color.RED);</div><div class="line">mPaint.setTextSize(50);</div><div class="line">mPaint.setStyle(Paint.Style.STROKE);</div><div class="line">mName = &quot;先小涛后大浪&quot;;</div><div class="line">mPath1 = new Path();</div><div class="line">mPath1.addCircle(220, 300, 150, Path.Direction.CCW);</div><div class="line">mPath2 = new Path();</div><div class="line">mPath2.addCircle(600, 300, 150, Path.Direction.CCW);</div><div class="line"></div><div class="line">// 辅助中线</div><div class="line">canvas.drawLine(70, 300, 750, 300, mPaint);</div><div class="line">canvas.drawPath(mPath1, mPaint);</div><div class="line">canvas.drawPath(mPath2, mPaint);</div><div class="line">mPaint.setColor(Color.BLUE);</div><div class="line">canvas.drawTextOnPath(mName, mPath1, 0, 0, mPaint);</div><div class="line">canvas.drawTextOnPath(mName, mPath2, 80, 50, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-3b672e6d1a2b4c3e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h4 id="1-3-3-设置字体样式"><a href="#1-3-3-设置字体样式" class="headerlink" title="1.3.3 设置字体样式"></a>1.3.3 设置字体样式</h4><p>在 Paint 中有一个函数是专门用来设置字体样式的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Typeface setTypeface(Typeface typeface)</div></pre></td></tr></table></figure></p>
<p>Typeface 是专门用来设置字体样式的类，通过 paint.setTypeface()函数来指定即将绘制的文字的字体样式。可以指定系统中的字体样式，也可以在自定义的样式文件中获取。在构建 Typeface 类时，可以指定所用样式的正常体、斜体、粗体等。如果在指定样式中没有相关文 字的样式，就会用系统默认的样式来显示，一般默认是宋体。</p>
<h6 id="1-使用系统中的字体样式"><a href="#1-使用系统中的字体样式" class="headerlink" title="1. 使用系统中的字体样式"></a>1. 使用系统中的字体样式</h6><p>1）使用 Android 自带的字体样式<br>在 Typeface 类中保存着三种自带的字体样式：Typeface.SANS_SERIF、Typeface.MONOSPACE 和 Typeface.SERIF。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// 衬线字体</div><div class="line">mPaint.setTypeface(Typeface.SERIF);</div><div class="line">canvas.drawText(mName, 100, 100, mPaint);</div><div class="line">// 设置等宽字体</div><div class="line">mPaint.setTypeface(Typeface.MONOSPACE);</div><div class="line">canvas.drawText(mName, 100, 170, mPaint);</div><div class="line">// 无衬线字体</div><div class="line">mPaint.setTypeface(Typeface.SANS_SERIF);</div><div class="line">canvas.drawText(mName, 100, 240, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-bcad462033b71603.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="系统字体样式"><br>由于这三种字体样式对中文的支持不是很好。所以，当遇到不支持的文字时，会使用系统默认的样式来写。对中国用户而言，系统默认的字体一般是 DroidSansFallback，所以用这三种样式的文字写中文时是看不到差别的，我们一般不会使用这三种字体样式。</p>
<p>2）defaultFromStyle()函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Typeface defaultFromStyle(int style)</div></pre></td></tr></table></figure></p>
<p>该函数会根据字体样式获取对应的默认字体。参数 int style 的取值如下：</p>
<ul>
<li>Typeface.NORMAL：正常字体。</li>
<li>Typeface.BOLD：粗体。</li>
<li>Typeface.ITALIC：斜体。</li>
<li>Typeface.BOLD_ITALIC：粗斜体。</li>
</ul>
<p>如果系统默认的字体是宋体，那么当指定defaultFromStyle(Typeface.BOLD_ITALIC)时，获取的将是粗斜体的宋体样式。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">mPaint = new Paint();</div><div class="line">mPaint.setColor(Color.RED);</div><div class="line">mPaint.setTextSize(50);</div><div class="line">mPaint.setAntiAlias(true);</div><div class="line">mName = &quot;先小涛 xian@163.com&quot;;</div><div class="line">Typeface typeface = Typeface.defaultFromStyle(Typeface.BOLD_ITALIC);</div><div class="line">mPaint.setTypeface(typeface);</div><div class="line"></div><div class="line">canvas.drawText(mName, 100, 100, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-b07302336ad691c3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>3）create(String familyName, int style)函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Typeface create(String familyName, int style)</div></pre></td></tr></table></figure></p>
<p>该函数直接通过指定字体名来加载系统中自带的字体样式。如果字体样式不存在，则会用系统样式替代并返回。</p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">String familyName = &quot;宋体&quot;;</div><div class="line">Typeface font = Typeface.create(familyName, Typeface.NORMAL);</div><div class="line">mPaint.setTypeface(font);</div><div class="line"></div><div class="line">canvas.drawText(mName, 100, 100, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-2dc4d2f717e87dc7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h6 id="2-自定义字体样式"><a href="#2-自定义字体样式" class="headerlink" title="2. 自定义字体样式"></a>2. 自定义字体样式</h6><p>一般而言，我们不会指定系统自带的字体样式。因为除 Android 自带的三种字体样式以外，其他字体样式并不一定在每款手机上都有预装。所以，我们一般会选择加载自定义的字体文件来绘制文字，这样才不至于在每款手机上的表现不一样。</p>
<p>如果要自定义字体样式，就需要从外部字体文件中加载我们所需的字形，这时所使用的 Typeface 构造函数有如下三个:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Typeface createFromAsset(AssetManager mgr, String path)</div><div class="line">Typeface createFromFile(String path)</div><div class="line">Typeface createFromFile(File path)</div></pre></td></tr></table></figure></p>
<p>示例：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">AssetManager manager = context.getAssets();</div><div class="line">// 加载字体文件：assets/fonts/xian.ttf</div><div class="line">Typeface typeface = Typeface.createFromAsset(manager, &quot;fonts/xian.ttf&quot;);</div><div class="line">mPaint.setTypeface(typeface);</div><div class="line"></div><div class="line">canvas.drawText(mName, 100, 200, mPaint);</div></pre></td></tr></table></figure></p>
<p><img src="https://upload-images.jianshu.io/upload_images/14186083-ee96a269fc0c1fe5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<blockquote>
<p>加载 res/font/xian.ttf 字体文件方式：<br>Typeface typeface = ResourcesCompat.getFont(context, R.font.xian);</p>
</blockquote>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2019/09/17/ANDROID/自定义控件/13精通自定义 View 之绘图基础（三）/" data-id="ck0nwnjvb0056rnhauy3x2ww7" class="article-share-link">Share</a><div class="tags"><a href="/tags/ANDROID/">ANDROID</a></div><div class="post-nav"><a href="/2019/09/17/ANDROID/自定义控件/14精通自定义 View 之绘图基础（四）/" class="pre">精通自定义 View 之绘图基础（四）</a><a href="/2019/09/17/ANDROID/自定义控件/12精通自定义 View 之绘图基础（二）/" class="next">精通自定义 View 之绘图基础（二）</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ANDROID/">ANDROID</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/DESIGN-PATTERN/">DESIGN PATTERN</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/ANDROID/" style="font-size: 15px;">ANDROID</a> <a href="/tags/util/" style="font-size: 15px;">util</a> <a href="/tags/CUSTOM-VIEW/" style="font-size: 15px;">CUSTOM VIEW</a> <a href="/tags/研发录/" style="font-size: 15px;">研发录</a> <a href="/tags/JAVA/" style="font-size: 15px;">JAVA</a> <a href="/tags/DESIGN-PATTERN/" style="font-size: 15px;">DESIGN PATTERN</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/ANDROID/自定义控件/16精通自定义 View 之绘图基础（六）/">精通自定义 View 之绘图基础（六）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/ANDROID/自定义控件/15精通自定义 View 之绘图基础（五）/">精通自定义 View 之绘图基础（五）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/ANDROID/自定义控件/14精通自定义 View 之绘图基础（四）/">精通自定义 View 之绘图基础（四）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/ANDROID/自定义控件/13精通自定义 View 之绘图基础（三）/">精通自定义 View 之绘图基础（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/ANDROID/自定义控件/12精通自定义 View 之绘图基础（二）/">精通自定义 View 之绘图基础（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/17/ANDROID/自定义控件/11精通自定义 View 之绘图基础（一）/">精通自定义 View 之绘图基础（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/03/ANDROID/00Catalog/">ANDROID 目录</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/01/ANDROID/INTERMEDIATE/01Android安全系列篇一(加密、密钥、签名与证书)/">ANDROID 目录</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/31/ANDROID/BASE/16RecyclerView/">15 代码控制Layout</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/30/ANDROID/BASE/15代码控制Layout/">15 代码控制Layout</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="https://developer.android.com/guide/components/" title="Android development documentation chinese" target="_blank">Android development documentation chinese</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">King.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>